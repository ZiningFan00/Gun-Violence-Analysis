[
["index.html", "Exploring the Gun Violence in the US Chapter 1 Introduction", " Exploring the Gun Violence in the US Zining Fan, Xin Guo, Huiyu Song, Xiao Ji 2019-12-13 Chapter 1 Introduction The United States is one of the countries in which firearm possession is legal. In the US, the legal basis for gun possession is enshrined in the Second Amendment of the Constitution. People are always curious to know how the gun is controlled and what influence gun would bring to our life. In this project, we would like to use gun violence data as an entry point, trying to answer the following questions: Which state has the largest number of casualties caused by gun violence? When and where did these incidents happen? Which kind of gun violence is the most common? Is there any relationship between gun violence and gun sales? Is there any relationship between gun violence and GDP? Is there any spatial pattern of the gun violence incidents? Karen Bleier/AFP via Getty Images "],
["data-sources.html", "Chapter 2 Data Sources 2.1 Gun Violence Data 2.2 FBI NICS Firearm Gun Background Check Data 2.3 Population Data 2.4 GDP Data", " Chapter 2 Data Sources In this project, we used several data sources. 2.1 Gun Violence Data Gun violence data records each gun violence incidents. We got this dataset from kaggle, the original dataset is from gunviolencearchive.org. Since the data from GVA limits the number of incidents that are returned from a single query, and the website’s “Export to CSV” functionality missed some crucial fields, it’s not ready to be used. So, we used the data from kaggle, these data were obtained using web scraping. And we obtained the meaning of each column from GVA. This size of this dataset is 239,677 \\(\\times\\) 29. This dataset has 29 variables, and each row represents a record of gun violence. Desctiption of each columns Colnames Meaning n_killed Total number of killed people in the shooting n_injured Total number of injured people in the shooting Children/Teens Involve Whether the incident involved children or teenagers Mass Shooting Whether the incident is mass shooting Home Invasion Whether the incident is home invasion Officer Involved Shooting Whether the incident involved officer longitude Longitude of gun violence incident latitude Latitude of gun violence incident We used variables like “date”, “state”, “n_killed”, “n_injured”, “longitude” and “latitude”. Because the original file is quite large ( &gt;150MB ), and some columns cannot be directly used, therefore, we only selected some characters of each incident and built up a new dataset. 2.2 FBI NICS Firearm Gun Background Check Data Background Check Data is used as the estimate of gun sales in United States. This dataset is about gun background check, and the content of background checking is to check whether the transfer of firearms is illegal. We obtained this data from github, it says that “The FBI’s NICS numbers are widely accepted as the best proxy for total gun sales in a given time period”. The original dataset is from National Instant Criminal Background Check System. Since the original dataset from FBI is in PDF form, we use the data from github. The size of this data is 13860 \\(\\times\\) 29. This dataset has 29 variables. And each row represents a record of the firearm transfer. There are three types of firearms in the dataset, handgun, long gun and others. Desctiption of each columns Colnames Meaning permit Total number of transfers which are permitted prepawn_## Total number of prepawn transfers redemption_## Total number of redemption transfers returned_## Total number of transfers of returning firearm to the owner rentals_## Total number of rental transfers private_sale_## Total number of private sale transfers return_to_seller_## Total number of transfers of returning firearm to the seller totals Total number of incidents X28 The abbreviation of states “##” means gun types: handgun, long gun and others. We are only interested in the total number of the gun background data “totals”. 2.3 Population Data The population data was obtained from Census. Since the number of gun violence and background check is based on population, we would like to focus on rate numbers rather than total numbers. We only got the population of each state from year 2010 to year 2018. Desctiption of each columns Colnames Meaning X1 Index of each column state State name year year population population of the year 2.4 GDP Data We would also like to find whether gun violence is related to ecomonic data, so we used GDP of each state to reflect the economic situation. We obtained this dataset about GDP from Bureau of Economic Analysis. Originally, each state has its own GDP dataset from 1999 to 2018. We combine those datasets and used total GDP as the representative of economic status. Desctiption of each columns Colnames Meaning GeoName State name ComponentName Gross domestic product (GDP) by state Millions of current dollars Description total GDP Xyyyy GDP of yyyy year "],
["missing-values.html", "Chapter 3 Missing values 3.1 Missing Values of Gun Violence Data 3.2 Missing Value of Gun background check Data 3.3 Missing Value of GDP and Population Data", " Chapter 3 Missing values 3.1 Missing Values of Gun Violence Data In the gun violence data, we need date, state, killed number, injured number, longitude and latitude, and some character attributes. Therefore, we focus on the missing pattern of these variables. ## Warning in melt(as.data.frame(xs), ncol(xs)): The melt generic in ## data.table has been passed a data.frame and will attempt to redirect to the ## relevant reshape2 method; please note that reshape2 is deprecated, and this ## redirection is now deprecated as well. To continue using melt methods from ## reshape2 while both libraries are attached, e.g. melt.list, you can prepend ## the namespace like reshape2::melt(as.data.frame(xs)). In the next version, ## this warning will become an error. ## date state ## 0 0 ## n_killed n_injured ## 0 0 ## latitude longitude ## 7921 7919 ## Children.Teens.Involve Mass.Shooting ## 0 0 ## Home.Invasion Officer.Involved.Shooting ## 0 0 ## year month ## 0 0 As shown in the graph, more than 90% value are not missing, and only small number of gun violence records miss some lattitude and longitude. Because this dataframe is larger than 230,000 records, therefore, only missing about 8000 records is acceptable. 3.2 Missing Value of Gun background check Data ## month state ## 0 0 ## permit permit_recheck ## 24 11385 ## handgun long_gun ## 20 19 ## other multiple ## 6985 0 ## admin prepawn_handgun ## 23 1943 ## prepawn_long_gun prepawn_other ## 1945 7370 ## redemption_handgun redemption_long_gun ## 1940 1941 ## redemption_other returned_handgun ## 7370 10285 ## returned_long_gun returned_other ## 10340 10670 ## rentals_handgun rentals_long_gun ## 11495 11660 ## private_sale_handgun private_sale_long_gun ## 9735 9735 ## private_sale_other return_to_seller_handgun ## 9735 10010 ## return_to_seller_long_gun return_to_seller_other ## 9735 10230 ## totals X ## 0 0 ## year ## 0 A lot of firearm background checking data are missing, this is out of two reason: 1) Difference of state laws: For example, there is a large number of missing values in “returned_” (“returned_handgun”, “returned_long_gun”, “returned_other”, “rentals_handgun”, “rentals_long_gun”). According to FBI-NICS website, “As of January 20, 2015, Title 28, Code of Federal Regulations, Part 25, allows local, state, tribal, and federal law enforcement agencies to access the NICS to conduct background checks for the purpose of returning firearms in their possession to an individual (e.g., at the conclusion of a case).”, therefore, some states don’t have returned long guns or short guns data. 2) The missing details of purchasing: For example, there are some missing values in “private_sale” (“private_sale_handgun”, “private_sale_long_gun”, “private_sale_other”), as private sellers represent unlicensed sellers, and only 24/50 states has gun laws about back ground checking When Seller Is Not a Licensed Dealer(https://consumer.findlaw.com/consumer-transactions/private-gun-sale-laws-by-state.html), therefore, some details of private sales are missing. According to the summary of missing values, the most common mode of missing value is missing returned firearms, private sales and permit recheck data.In this dataset we only used the variable totals, and this column has no missing values, therefore, this dataset can be used. 3.3 Missing Value of GDP and Population Data colSums(is.na(GDP)) ## X GeoFIPS GeoName ## 0 0 0 ## Region TableName ComponentName ## 1 0 0 ## Unit IndustryId IndustryClassification ## 0 0 0 ## Description X1997 X1998 ## 0 0 0 ## X1999 X2000 X2001 ## 0 0 0 ## X2002 X2003 X2004 ## 0 0 0 ## X2005 X2006 X2007 ## 0 0 0 ## X2008 X2009 X2010 ## 0 0 0 ## X2011 X2012 X2013 ## 0 0 0 ## X2014 X2015 X2016 ## 0 0 0 ## X2017 X2018 ## 0 0 “X20##” represents the GDP of year 20## and “GeoName” represents the states. The only missing value is region. “region” is the number of regions in each state, therefore, this missing value doesn’t effect our analysis. colSums(is.na(population)) ## state year population ## 0 0 0 There is no missing values in population data. "],
["data-cleaning.html", "Chapter 4 Data Cleaning 4.1 Gun Violence Data 4.2 Gun Background Check Data 4.3 Population Data 4.4 GDP Data", " Chapter 4 Data Cleaning In this part, we would like to clean the datasets to get the useful data, and plot them to show useful information. 4.1 Gun Violence Data Our entry point is Gun Violence Data, we want to show gun violence rate in the United States. Since this dataset only consists of records from 2014 to 2018, our analysis is focused on 2014 to 2018. We only have the first quarter violence data for 2018, so the number of casualties in 2018 is smaller than other years. For each state, we calculated the sum of “n_killed” and “n_injured” of every incident, and divide it by the population of that year. We filter the data by year and state. For example, In the plot of each state in each year, we used the columns “Longitude” and “Latitude” to get the specific location of every incident. Each incident is plotted as a red dot on map. We also check correctness of the longitude and latitude. As the longitude range of US is (-161,-68.1). We filtered the incorrect records which are out of the range. Besides as we have different gun shooting types, such as “Mass Shooting”, “Officer Involved”, “Child/Teen Involved”, “Home Invasion”. These variables could represent the safety situation in each state. 4.2 Gun Background Check Data We only used columns “states”,“date”,“totals”, and there are no missing values in these variables. 4.3 Population Data We cleaned the population data to transform it into the population by state and by year. The cleaned dataset is in the folder of “dataset”, named “clean_population_by_state”. 4.4 GDP Data The GDP dataset contains the GDP of each state from 1999 to 2018. And the unit of it is Millions of current dollars. "],
["results.html", "Chapter 5 Results 5.1 Exploring the Gun Violence Data 5.2 Effects of Gun Possession 5.3 Effects of GDP Data 5.4 Combining these Variables", " Chapter 5 Results 5.1 Exploring the Gun Violence Data We start from an interesting question: Where is the most gun threatened state in the US? Then we will explore the gun violence data, hoping to find the answers from it. 5.1.1 How many gun violence incidents happened each year in each state? We calculated the the sum of incidents number of each state from 2014 to 2018, the plots are shown below: The bar in 2018 is shorter than the bars in other years, it’s because we only have the record from Jan to March in 2018. We could find that the number of incidents is increasing by year. We also could find that in 2014 and 2018, California has the largest number of incidents; while in 2015, 2016 and 2017, Illinois has the largest number of incidents. But, does the large number comes from the large population? Maybe it’s better to calculate the number of incidents per 100000 person. The plots are shown below: The resultes turns out very different, District of Columbia moves to the top of the bar from 2014 to 2018; Alaska becomes the second most in 2015 and 2016. It might because the population in these states are quite small. 5.1.2 How many casualties each year in each state? The number of casualties in every incident is different,the plots of total number of casualties each year by state are shown below: The bar in 2018 is shorter than the bars in other years, it’s because we only have the record from Jan to March in 2018. We could find this pattern is quite similar to the pattern of incident number. Illinois has the largest number from 2015 to 2018; California has the largest number in 2014. Then we would like to look at the number of casualties per 100k person. The plots are shown below: This pattern is also similar to the pattern of incident number per 100k person, District of Columbia is at the top of the bar chart from 2014 to 2018. 5.1.3 Where did these gun violence incidents happen? Then, we zoomed in the map to find the exact location of each gun incident. We ploted each event as a red dot on the map. The following plot shows the gun violence in California in 2017, ## Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under ODbL. ## 304 tiles needed, this may take a while (try a smaller zoom). As we could see from this plot, the gun violence incident is clustered at cities and roads, which means that gun violence incidents mostly happen where people live. Then we separated the US into two parts by Democratic Party and Republican Party. Does the gun violence is related to the party? We used boxplot trying to answer this question. The boxplots are shown below: In the above plot, each dot represents a state, y-axis represents number of casualties per 100k person of each state all year together. The boxplots give us very interesting information. There are many outliers in Democratic Party, and the range of Democratic Party states is much larger. However, the average number of casulties in Democratic Party states is lower than that in Republican Party. 5.1.4 Which kind of gun violence is the most common? Then, we look at the type of each incident. We summed the same kind of incidents from 2014 to 2018 in every state, the plot is shown below: Seen from the statistic chart, we know that the characteristic of a gun violence are described about its cause and the damage it brought as well as some information abouth the arm gun. We could find that there are many different characteristic of incidents. The most common incident characteristic is shot-wounded/injured, the second common characteristic is shot-murder. Mass Shooting One damage that we would like to know is about the trends of mass shooting across the countries through these years. As shown in the map, we could find that this kind of incidents in different years are clustered in the countries. In California, most mass shootings occur in the area of San Fransisco and Los Angeles while other cities barely has one. And on the southern and esatern parts of the state, mass shootings are frequently seen there. And these states are also having higer rate of casualties in gun violence. NUmber of Incidents that Children or Officers Killed or Injured in Gun Violence From plot above, we found that the relative number of people killed to people injured and we would like to explore if that would be similar to different groups of people, officers and children are the groups of most concern. We found that though these two groups are having more injured when involved in gun violence incidents, it seems like children are more inclined to be in danger of death, so we could know that gun is a bigger threat to children. Major Causes of Gun Violence We are now concerned about the the causes that brought about the gun violence. We are more interested about the intentional shooting as these would put more threat to the safety. From the plot above, we could find that the most common conflicts that involved gun is the armed robbery. Then, incidents of ATF.LE Arrest and so on are ranking second, this is about the police carrying out duties, and it makes sense that it would arase many gun violences. Surprisingly, conflicts involving gang are fewer than domestic violence. It seems like the gun violence distributions follow the pattern taht the milder, the more frequently it would happen. Apart from the threat that gun would bring, we would like to know more about the positive effect of the gun. What most people promotes the right of keeping are saying that the gun would help them defend themselves when their life are in danger. From the plot about the number of incidents that have certain characteristics, we can see that the number of incidents that have self defense is close to the number that have accidental shootings. Which means that the role that guns to defend a person might not be as effective as what people promote. 5.1.5 When does gun violence happen? Then we would like to explore the data in time series. Are the gun violence incidents more likely to happen in sepcific time? we plotted each gun violence incident by time from 2014 to 2018, The above plot shows the sum of incident number, number of killed and number of injured of each month from 2014 to 2018. We could find that there are some peaks in this plot. We are very surprised to find that peaks are always in summer. We guessed that it might because people are easy to lose their mind when it’s hot. Since some incidents don’t involve any casualty, the numbers of incidents are higher than the sum of number killed (n_killed) and the number injured (n_injured). 5.2 Effects of Gun Possession Since the numbers of firearm possessions are different among states, it might be related to the gun violence. 5.2.1 How does the gun possession influence the gun violence status? Intuitively gun possession of each states may be related with gun violence. total in each rows in firearm background checking represents the number of transfer of firearms. It shows the gun possession of each state. We extracted the background check and gun violence records in 2017. ## No trace type specified: ## Based on info supplied, a &#39;scatter&#39; trace seems appropriate. ## Read more about this trace type -&gt; https://plot.ly/r/reference/#scatter ## No scatter mode specifed: ## Setting the mode to markers ## Read more about this attribute -&gt; https://plot.ly/r/reference/#scatter-mode From the plot above, we could find that most points are at the left bottom corner of the plot. There are two outliers in the plot. These two variables are slightly positively correlated. 5.3 Effects of GDP Data We also would like to find whether there is something to do with the ecnomic situation. We choosed to use GDP of each state to represent the economic situation. Since there are few differences from 2014 to 2017, we choose to show the data in 2017. We extracted the GDP of the United States of year 2017 and the incident number of each state in 2017. In the scatterplot, each dot is a state, x-axis is GDP of this state, y-axis is incident of this state. ## No trace type specified: ## Based on info supplied, a &#39;scatter&#39; trace seems appropriate. ## Read more about this trace type -&gt; https://plot.ly/r/reference/#scatter ## No scatter mode specifed: ## Setting the mode to markers ## Read more about this attribute -&gt; https://plot.ly/r/reference/#scatter-mode From the plot above, we could find that there is an outlier an the right up corner of the plot. Most of the points are at the left nottom of the plot. There are no relations between these two variables. 5.4 Combining these Variables Now, we introduced gun violence data, background check data as well as GDP data. How do these variabled combine with each other? We use parallel coordinates charts to show their relations. Parcoord(&quot;2017&quot;) Actually, patterns among those years are similar, so we only include the plot in 2017. In the plot above, most of the lines are at the bottom. Most lines between checking_totals_avg and gun_violence_avg are parellel, but there are still some crosses in between. We can conclude that the gun possession and gun violence are slightly positively correlated, which is consistent with the scatterplot above. There are lots of crosses between gun_viokence_avg and GDP_avg, so there is no clear relationship between gun violence and GDP. "],
["interactive-component.html", "Chapter 6 Interactive Component", " Chapter 6 Interactive Component We do the interactive part in Shiny, you could open shiny through this link. The UI is shown like: The shiny app shows the casualty caused by the gun violence incidents of each state in each year. On the left panel the 10 states with highest toll rate are shown. Click the state of interest in the map, the right panel would show the information of the corresponding incidents causing the damage. "],
["conclusion.html", "Chapter 7 Conclusion 7.1 Our Work 7.2 Our Difficulties", " Chapter 7 Conclusion 7.1 Our Work Answers to the questions in introduction: 1. Washington DC has the largest number of gun violence casualties per 100k people from 2014-2018, so it is the most dangerous state in terms of gun violence. 2. The number of casualties caused by gun violence is increasing by year 3. The most common gun violence characteristic involved is getting injured 4. There is a weak positive correlation between gun violence and gun possession and there is no correlation between gun violence and the economic condition. 5. The southeast part of US is relatively more dangerous in terms of gun violence. 7.2 Our Difficulties We suffered a lot in this project. However, we also learned a lot after finishing this project. Why we are curious about the gun violence? Gun is not allowed in our country (China) while is legal in United States, we want to learn more about it. At the very start, we focused purely on gun possession. Then we realized we need more data to support our analysis. We started to look for population data, background check data as well as the GDP data. Why we struggled? 1. Transforming and cleaning data is painful, because the size of our dataset is large, and some datasets are combined from multiple data files. For instance, the GDP for different states are in different files, we need to put them together. 2. It’s the first time we use bookdown and shiny. Both are not easy to use and we encountered many problems. For example, the Shiny app is very slow and it takes too long to load the map, so we finally used a simple map in order eo get a better user experience. Also, the published bookdown did not show the images generated from R chunks at first, but we figured it out. "]
]
