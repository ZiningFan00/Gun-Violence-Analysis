[
["index.html", "Exploring the Gun Violence in the US Chapter 1 Introduction", " Exploring the Gun Violence in the US Zining Fan, Xin Guo, Huiyu Song, Xiao Ji 2019-12-12 Chapter 1 Introduction The United States is one of the countries in which firearm possession is legal. In the US, the legal basis for gun possession is enshrined in the Second Amendment of the Constitution. People are always curious to know how the gun is controlled and what influence gun would bring to our life. In this project, we would like to use gun violence data as an entry point, trying to answer some questions. "],
["data-sources.html", "Chapter 2 Data Sources 2.1 Gun Violence Data 2.2 Gun Background Check Data 2.3 Population Data 2.4 GDP Data", " Chapter 2 Data Sources In this project, we used several data sources. 2.1 Gun Violence Data This dataset about gun violence is “Gun Violence Data”, we get this dataset from kaggle, the original dataset is from gunviolencearchive.org. Since the data from GVA limits the number of incidents that are returned from a single query, and the website’s “Export to CSV” functionality was missing crucial fields, it’s not ready to be used. So, we use the data from kaggle, these data was obtained using web scraping. And we obtained the meaning of each column from GVA. This size of this dataset is 239677 \\(\\times\\) 29. This data set has 29 variables, and each row represents a records of gun violence. Desctiption of each columns Colnames Meaning n_killed Total number of killed people in the shooting n_injured Total number of injured people in the shooting Children/Teens Involve Whether the incident is children or teenagers involved Mass Shooting Whether the incident is mass shooting Home Invasion Whether the incident is home invasion Officer Involved Shooting Whether the incident is officer involved shooting longitude Longitude of gun violence incident latitude Latitude of gun violence incident We used variables like “date”, “state”, “n_killed”, “n_injured”, “longitude” and “latitude”. Because the original file is quite large ( &gt;150MB ), and some columns cannot be directly used, therefore, we only select some character of each incident and build up a new dataframe. 2.2 Gun Background Check Data This dataset is about gun background check, and to check whether the transfer of firearms is illegal. We obtained this data from github, it says that “The FBI’s NICS numbers are widely accepted as the best proxy for total gun sales in a given time period”. The original dataset is from National Instant Criminal Background Check System. Since the original dataset from FBI is in PDF form, we use the data from github. The size of this data is 13860 \\(\\times\\) 29. This dataset has 29 variables. And each row represents a transfer checking of firearm. There are three types of firearms in the dataset, handgun, long_gun and other. Desctiption of each columns Colnames Meaning permit Total number of transfers which is permitted in one check prepawn_## Total number of prepawn transfers in one check redemption_## Total number of redemption transfers in one check returned_## Total number of transfers of returning firearm to the owner in one check rentals_## Total number of rental transfers in one check private_sale_## Total number of private sale transfers in one check return_to_seller_## Total number of transfers of returning firearm to the seller in one check totals Total number of incidents in one check X28 The abbreviation of states We are only interested in the total number of the gun background data “totals”. 2.3 Population Data The population data was obtained from Census. Since the number of gun violence and background check is based on population, we would like to look rate numbers rather than total numbers. We only got the population of each state from year 2010 to year 2018. Desctiption of each columns Colnames Meaning X1 Index of each column state State name year year population population by the year 2.4 GDP Data We would also like to find whether gun violence has something to do with ecomonic data. So we used GDP of each state to reflect the economic situation. We obtained this data about GDP from Bureau of Economic Analysis. The original data files are GDP data of each year from 1999 to 2018 of each states, and classified GDP of all kinds of industry and all industry total DGP are involved, therefore, we only combine total industry GDP of all states by years into a new data file. And we will use it as GDP Data. Desctiption of each columns Colnames Meaning GeoName State name ComponentName Gross domestic product (GDP) by state Millions of current dollars Description All industry total Xyyyy GDP of yyyy year "],
["missing-values.html", "Chapter 3 Missing values 3.1 Missing Value of Gun Violence Data 3.2 Missing Value of Gun background check Data 3.3 Missing Value of GDP and Population data", " Chapter 3 Missing values 3.1 Missing Value of Gun Violence Data As what we need of gun violence is date, state, killed number, injured number, longitude and latitude, and some character attributes. Therefore, the missing pattern are based on these volumns. As shown in the graph, more than 90% value are not missing, and only small number of gun violence records miss some lattitude and longitude. Because this dataframe is larger than 230,000 records, therefore, only missing about 8000 records is acceptable. 3.2 Missing Value of Gun background check Data ## Warning in melt(as.data.frame(xs), ncol(xs)): The melt generic in ## data.table has been passed a data.frame and will attempt to redirect to the ## relevant reshape2 method; please note that reshape2 is deprecated, and this ## redirection is now deprecated as well. To continue using melt methods from ## reshape2 while both libraries are attached, e.g. melt.list, you can prepend ## the namespace like reshape2::melt(as.data.frame(xs)). In the next version, ## this warning will become an error. ## month state ## 0 0 ## permit permit_recheck ## 24 11385 ## handgun long_gun ## 20 19 ## other multiple ## 6985 0 ## admin prepawn_handgun ## 23 1943 ## prepawn_long_gun prepawn_other ## 1945 7370 ## redemption_handgun redemption_long_gun ## 1940 1941 ## redemption_other returned_handgun ## 7370 10285 ## returned_long_gun returned_other ## 10340 10670 ## rentals_handgun rentals_long_gun ## 11495 11660 ## private_sale_handgun private_sale_long_gun ## 9735 9735 ## private_sale_other return_to_seller_handgun ## 9735 10010 ## return_to_seller_long_gun return_to_seller_other ## 9735 10230 ## totals X ## 0 0 ## year ## 0 A lot of firearm background checking data are missing, this is out of two reason: * Difference of state laws: For example, there is a large number of missing values in “returned_&quot; (&quot;returned_handgun&quot;, &quot;returned_long_gun&quot;, &quot;returned_other&quot;, &quot;rentals_handgun&quot;, &quot;rentals_long_gun&quot;). According to FBI-NICS website, &quot;As of January 20, 2015, Title 28, Code of Federal Regulations, Part 25, allows local, state, tribal, and federal law enforcement agencies to access the NICS to conduct background checks for the purpose of returning firearms in their possession to an individual (e.g., at the conclusion of a case). &quot;, therefore, some states don’t have returned long guns or short guns data. The missing details of purchasing: For example, there are some missing values in”private_sale&quot; (“private_sale_handgun”, “private_sale_long_gun”, “private_sale_other”), as private sellers represent unlicensed sellers, and only 24/50 states has gun laws about back ground checking When Seller Is Not a Licensed Dealer(https://consumer.findlaw.com/consumer-transactions/private-gun-sale-laws-by-state.html), therefore, some details of private sales are missing. According to the summary of missing values, the most common mode of missing value is missing returned firearms, private sales and permit recheck data. As the what we used of this dataframe is totals, and this column has no missing values, therefore, it can be used. 3.3 Missing Value of GDP and Population data colSums(is.na(GDP)) ## X GeoFIPS GeoName ## 0 0 0 ## Region TableName ComponentName ## 1 0 0 ## Unit IndustryId IndustryClassification ## 0 0 0 ## Description X1997 X1998 ## 0 0 0 ## X1999 X2000 X2001 ## 0 0 0 ## X2002 X2003 X2004 ## 0 0 0 ## X2005 X2006 X2007 ## 0 0 0 ## X2008 X2009 X2010 ## 0 0 0 ## X2011 X2012 X2013 ## 0 0 0 ## X2014 X2015 X2016 ## 0 0 0 ## X2017 X2018 ## 0 0 As each &quot;X20**&quot; represents the GDP of each year and “GeoName” represents the states. And the region is just number of different regions, therefore, the only one row missing data don’t effect our analysis. colSums(is.na(population)) ## state year population ## 0 0 0 There is no missing values in population data. "],
["data-cleaning.html", "Chapter 4 Data Cleaning 4.1 Gun Violence Data 4.2 Gun Background Check Data 4.3 Population Data 4.4 GDP Data", " Chapter 4 Data Cleaning In this part, we would like clean dataset to get the useful data, and plot them to show useful information. 4.1 Gun Violence Data Our entry point is gun violence data, we want to show gun violence rate in the United States. As this dataset only consists of records from 2014 to 2018, our analysis is only focused from 2014 to 2018. We only have the first quarter violence data for 2018, so the number of casualties in 2018 is smaller than other years. We sumed columns “n_killed” and “n_injured” of every incident, and divide the population of this state for each year. In each plot, we filter the data by Year, calculate the sum of total rates of killed as well as injured. In the plot of each state,we also used the columns “Longitude” and “Latitude” to get the specific spot of every incident. Then we filter the data by Year and state, each incident is plotted as a red dot on map. We also check correctness of the longitude and latitude. As longitude range of US is (-161,-68.1).We filtered the incorrect records which is out of the range. Besides as we have gun shooting character analysis, therefore, “Mass Shooting”, “Officer Involved”, “Child/Teen Involved”, “Home Invasion” columns are extracted as the main character of gun violence in each states, as the representation of safety in each states, therefore, preprocessing of “incident characteristic” and “participant age group” is been processed. 4.2 Gun Background Check Data As a large number of data are missing in this dataframe, only “states”,“date”,“totals” columns with no missing value. And other columns are not used. 4.3 Population Data We cleaned the population data to transform it into the population by state and by year. The cleaned data is in the folder of “dataset”, named “clean_population_by_state”. 4.4 GDP Data The GDP data is total GDP of each states from 1999 to 2018. And units of it is Millions of current dollars. As it has been already combined when collecting, therefore, there is no need to clean this data. "],
["results.html", "Chapter 5 Results 5.1 Exploring the Gun Violence Data 5.2 Effects of Gun Possesion 5.3 Effects of GDP Data 5.4 Combining these Variables", " Chapter 5 Results 5.1 Exploring the Gun Violence Data We start from an interesting question: Where is the least gun threaded state in the US? Then we would like explore the gun violence data, hoping to find the answers from sub questions. 5.1.1 How many gun violence incidents happened every year in each state? We calculate the the sum of of incidents number of each state from 2014 to 2018, the plots are shown below, The bar in 2018 is shorter than the bars in other years, it’s because we only have the record from Jan to March in 2018. We could find that in 2014 and 2018, California has the most incident number; while in 2015, 2016 and 2017, Illinois has the most incident number. But, does the large number comes from the large population? Maybe it’s better to calculate the incident number per 100000 person. The plots are shown below, The resultes turns out very different, District of Columbia moves to the top of the bar from 2014 to 2018; Alaska becomes the second most in 2015 and 2016. It might because the population number in these states are quite small. 5.1.2 How many people get injured? The gun violence may includes mass shooting. In every incident, the number of people who are injured or killed are different, we want to explore this number. The plot is shown below, The bar in 2018 is shorter than the bars in other years, it’s because we only have the record from Jan to March in 2018. We could find the pattern is quite similar to the pattern of incident number, Illinois has the largest number from 2015 to 2018; California has the largest number in 2014. Then we would like to look at the this number per 100000 person. The plots are shown below, This pattern is also similar to the pattern of incident number per 100000 person, District of Columbia is at the top of the bar chart from 2014 to 2018. 5.1.3 Where does these gun violence happen? Then, we zoomed in the map to find the exact location of each gun incident. We ploted each event as a red dot on the map. The following plot shows the gun violence in California in 2017, ## Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under ODbL. ## 304 tiles needed, this may take a while (try a smaller zoom). ## Warning: Removed 86 rows containing missing values (geom_point). As we could see from this plot, the gun violence incident is clustered at cities and roads, which means that gun violences is mostly happen where people are. Then we separated the US into two parts by Democratic Party and Republican Party. Does the gun violence has something to do the party. We used boxplot trying to answer this question. The boxplots are shown below, p ## Warning: &#39;box&#39; objects don&#39;t have these attributes: &#39;title&#39; ## Valid attributes include: ## &#39;type&#39;, &#39;visible&#39;, &#39;showlegend&#39;, &#39;legendgroup&#39;, &#39;opacity&#39;, &#39;uid&#39;, &#39;ids&#39;, &#39;customdata&#39;, &#39;selectedpoints&#39;, &#39;hoverinfo&#39;, &#39;hoverlabel&#39;, &#39;stream&#39;, &#39;transforms&#39;, &#39;uirevision&#39;, &#39;y&#39;, &#39;x&#39;, &#39;x0&#39;, &#39;y0&#39;, &#39;name&#39;, &#39;text&#39;, &#39;hovertext&#39;, &#39;hovertemplate&#39;, &#39;whiskerwidth&#39;, &#39;notched&#39;, &#39;notchwidth&#39;, &#39;boxpoints&#39;, &#39;boxmean&#39;, &#39;jitter&#39;, &#39;pointpos&#39;, &#39;orientation&#39;, &#39;width&#39;, &#39;marker&#39;, &#39;line&#39;, &#39;fillcolor&#39;, &#39;offsetgroup&#39;, &#39;alignmentgroup&#39;, &#39;selected&#39;, &#39;unselected&#39;, &#39;hoveron&#39;, &#39;xcalendar&#39;, &#39;ycalendar&#39;, &#39;xaxis&#39;, &#39;yaxis&#39;, &#39;idssrc&#39;, &#39;customdatasrc&#39;, &#39;hoverinfosrc&#39;, &#39;ysrc&#39;, &#39;xsrc&#39;, &#39;textsrc&#39;, &#39;hovertextsrc&#39;, &#39;hovertemplatesrc&#39;, &#39;key&#39;, &#39;set&#39;, &#39;frame&#39;, &#39;transforms&#39;, &#39;_isNestedKey&#39;, &#39;_isSimpleKey&#39;, &#39;_isGraticule&#39;, &#39;_bbox&#39; ## Warning: &#39;box&#39; objects don&#39;t have these attributes: &#39;title&#39; ## Valid attributes include: ## &#39;type&#39;, &#39;visible&#39;, &#39;showlegend&#39;, &#39;legendgroup&#39;, &#39;opacity&#39;, &#39;uid&#39;, &#39;ids&#39;, &#39;customdata&#39;, &#39;selectedpoints&#39;, &#39;hoverinfo&#39;, &#39;hoverlabel&#39;, &#39;stream&#39;, &#39;transforms&#39;, &#39;uirevision&#39;, &#39;y&#39;, &#39;x&#39;, &#39;x0&#39;, &#39;y0&#39;, &#39;name&#39;, &#39;text&#39;, &#39;hovertext&#39;, &#39;hovertemplate&#39;, &#39;whiskerwidth&#39;, &#39;notched&#39;, &#39;notchwidth&#39;, &#39;boxpoints&#39;, &#39;boxmean&#39;, &#39;jitter&#39;, &#39;pointpos&#39;, &#39;orientation&#39;, &#39;width&#39;, &#39;marker&#39;, &#39;line&#39;, &#39;fillcolor&#39;, &#39;offsetgroup&#39;, &#39;alignmentgroup&#39;, &#39;selected&#39;, &#39;unselected&#39;, &#39;hoveron&#39;, &#39;xcalendar&#39;, &#39;ycalendar&#39;, &#39;xaxis&#39;, &#39;yaxis&#39;, &#39;idssrc&#39;, &#39;customdatasrc&#39;, &#39;hoverinfosrc&#39;, &#39;ysrc&#39;, &#39;xsrc&#39;, &#39;textsrc&#39;, &#39;hovertextsrc&#39;, &#39;hovertemplatesrc&#39;, &#39;key&#39;, &#39;set&#39;, &#39;frame&#39;, &#39;transforms&#39;, &#39;_isNestedKey&#39;, &#39;_isSimpleKey&#39;, &#39;_isGraticule&#39;, &#39;_bbox&#39; In the above plot, each dot represents a state, y-axis represents the average number of people who get injured or killed of each state. The boxplots give us very interesting information. There are many greater outliers in Democratic Party, but the average number in Democratic Party states is lower than the states in Republican Party. 5.1.4 Which kind of gun violence is the most common? Then, we look at the type of each incident, which is represented by key characteristics of gun violence incidents. We sum the same kind of incidents from 2014 to 2018 in every state, the plot is shown below, From the plot above, we could find that there are many different types of incidents. The most common type of incident is shot-wounded/injured, the second commen type of is shot-murder. 5.1.5 When does gun violence happen? Then we would like to explore the data in time series. Does the gun viooence incidents are more likely to happen in sepcific time? we plot each gun violence incident by time from 2014 to 2018, p The above plot shows the sum of incident number, number of killed and number of injured of each month from 2014 to 2018. We could find that there are some peaks in this plot. We are very surprised to find that peaks are always in summer, in june and August. We guessed that it might because people are easy to lose their mind when it’s hot. 5.2 Effects of Gun Possesion Since the numbers of firearm possesions are different among states, it might have something to do with the gun violence. 5.2.1 How does the gun possesion change rate influence the gun violence status? Intuitively gun possesion of each states may be related with gun violence. “total” in each rows in firearm background checking represents the number of transfer of firearms. Therefore, it can show the gun possession for each states. We extracted the records of the United States in 2017 and also use gun violence casualty in 2017. back_check_plot ## No trace type specified: ## Based on info supplied, a &#39;scatter&#39; trace seems appropriate. ## Read more about this trace type -&gt; https://plot.ly/r/reference/#scatter ## No scatter mode specifed: ## Setting the mode to markers ## Read more about this attribute -&gt; https://plot.ly/r/reference/#scatter-mode From the plot above, we could find that most states with a relatively large number of checking records also have a large number of gun violence casualty, they are positively related with each other. In addition, there are some outliers in the right part of the plot. These states have extremely large number of checking records with a small number of casualty. 5.3 Effects of GDP Data We also would like to find whether there is something to do with the ecnomic situation. We choosed to use GDP of each state to represent the economic situation. Since there are few differences from 2014 to 2017, we choose to show the data in 2017. We extracted the GDP of the United States of year 2017 and the incident number of each state in 2017. In the scatterplot, each dot is a state, x-axis is GDP of this state, y-axis is incident of this state. GDP_2017_plot ## No trace type specified: ## Based on info supplied, a &#39;scatter&#39; trace seems appropriate. ## Read more about this trace type -&gt; https://plot.ly/r/reference/#scatter ## No scatter mode specifed: ## Setting the mode to markers ## Read more about this attribute -&gt; https://plot.ly/r/reference/#scatter-mode From the plot above, we could find that the GDP is positively related to the checking number. There are some outliers with large GDP and large check number. 5.4 Combining these Variables Now, we introduced gun violence data, background check data as well as GDP data. How do these variabled combine with each other? We use parallel coordinates charts to show their relations. Parcoord(&quot;2014&quot;) Parcoord(&quot;2015&quot;) Parcoord(&quot;2016&quot;) Parcoord(&quot;2017&quot;) Actually, patterns among those years are similar. The background checking totals, gun violence number per capita and GDP per capita are all relatively low. Besides, according to this graph, the value of gun violence toll per capita is negative related with GDP average. As there is an obvious cross between gun_violence_TOLL and GDP_avg. Some states with relative lower gun violence toll have high probability of relative higher GDP per capita. And the relationship of background checking and gun violence TOLL is quite ambiguous, more than half of the states with lower checking totals, also have a lower gun violence TOLL, though about 20 cities with lower background checking also has a larger gun violence tolls. The situation in District of Columbia is quite serious, as a highest GDP per capita, with lower firearm background checkings and highest gun violence tolls. As background checking means records of legal firearms, there may be a large number of illegal firearms in D.C. The mainly distribution between three variables from 2014 to 2017 is quite similar. And in 2014 and 2015, the distribution of gun violence toll per year is more lower than 2016 and 2017. "],
["interactive-component.html", "Chapter 6 Interactive Component", " Chapter 6 Interactive Component We do the interactive part in Shiny, you could open shiny through this link. The UI is shown like: The shiny app shows the toll damage caused by the gun violence incidents of each state in each year. On the left panel the 10 states with highest toll rate are shown. Click the state of interest in the map, the right panel would show the information of the corresponding incidents causing the damage. "],
["conclusion.html", "Chapter 7 Conclusion 7.1 Our Work 7.2 Our Difficulties 7.3 Future Work", " Chapter 7 Conclusion 7.1 Our Work 7.2 Our Difficulties We suffered a lot in this project. However, we also learned a lot after finishing this project. Since gun is not allowed in our country while is legal in United States, we are curious about it. At the very start, we decided to explore something about gun violence in United States. Then we realized we need more data to support our analysis. We started to find population data, background check data as well as the GDP data. Transforming and cleaning data is kind of painful, and the size of our data is really large. Anyway, we figured it out. It’s the first we use bookdown and shiny. Both are very weird. We encounterred many problems. The published bookdown does not show the images generated from R chuncks. The shiny app is really slow. 7.3 Future Work "]
]
