<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Missing values | Where is the most</title>
  <meta name="description" content="Chapter 3 Missing values | Where is the most" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Missing values | Where is the most" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Missing values | Where is the most" />
  
  
  

<meta name="author" content="Zining Fan, Xin Guo, Huiyu Song, Xiao Ji" />


<meta name="date" content="2019-12-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="data-cleaning.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.46.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.46.1/plotly-latest.min.js"></script>
<link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet" />
<script src="libs/parcoords-binding-1.0.0/parcoords.js"></script>
<script src="libs/d3-5.10.0/d3.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Gun Violence</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a><ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#gun-violence-data"><i class="fa fa-check"></i><b>2.1</b> Gun violence Data</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#gun-background-check-data"><i class="fa fa-check"></i><b>2.2</b> Gun background check Data</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#population-data"><i class="fa fa-check"></i><b>2.3</b> Population Data</a></li>
<li class="chapter" data-level="2.4" data-path="data-sources.html"><a href="data-sources.html#gdp-data"><i class="fa fa-check"></i><b>2.4</b> GDP Data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>3</b> Missing values</a><ul>
<li class="chapter" data-level="3.1" data-path="missing-values.html"><a href="missing-values.html#missing-value-of-gun-violence-data"><i class="fa fa-check"></i><b>3.1</b> Missing Value of Gun Violence Data</a></li>
<li class="chapter" data-level="3.2" data-path="missing-values.html"><a href="missing-values.html#missing-value-of-gun-background-check-data"><i class="fa fa-check"></i><b>3.2</b> Missing Value of Gun background check Data</a></li>
<li class="chapter" data-level="3.3" data-path="missing-values.html"><a href="missing-values.html#missing-value-of-gdp-and-population-data"><i class="fa fa-check"></i><b>3.3</b> Missing Value of GDP and Population data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-cleaning.html"><a href="data-cleaning.html"><i class="fa fa-check"></i><b>4</b> Data Cleaning</a><ul>
<li class="chapter" data-level="4.1" data-path="data-cleaning.html"><a href="data-cleaning.html#gun-violence-data-1"><i class="fa fa-check"></i><b>4.1</b> Gun Violence Data</a></li>
<li class="chapter" data-level="4.2" data-path="data-cleaning.html"><a href="data-cleaning.html#gun-background-check-data-1"><i class="fa fa-check"></i><b>4.2</b> Gun Background Check Data</a></li>
<li class="chapter" data-level="4.3" data-path="data-cleaning.html"><a href="data-cleaning.html#population-data-1"><i class="fa fa-check"></i><b>4.3</b> Population Data</a></li>
<li class="chapter" data-level="4.4" data-path="data-cleaning.html"><a href="data-cleaning.html#gdp-data-1"><i class="fa fa-check"></i><b>4.4</b> GDP Data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a><ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#exploring-the-gun-violence-data"><i class="fa fa-check"></i><b>5.1</b> Exploring the Gun Violence Data</a><ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#how-many-gun-violence-incidents-happened-every-year-in-each-state"><i class="fa fa-check"></i><b>5.1.1</b> How many gun violence incidents happened every year in each state?</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#how-many-people-get-injured"><i class="fa fa-check"></i><b>5.1.2</b> How many people get injured?</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#where-does-these-gun-violence-happen"><i class="fa fa-check"></i><b>5.1.3</b> Where does these gun violence happen?</a></li>
<li class="chapter" data-level="5.1.4" data-path="results.html"><a href="results.html#which-kind-of-gun-violence-is-the-most-common"><i class="fa fa-check"></i><b>5.1.4</b> Which kind of gun violence is the most common?</a></li>
<li class="chapter" data-level="5.1.5" data-path="results.html"><a href="results.html#when-does-gun-violence-happen"><i class="fa fa-check"></i><b>5.1.5</b> When does gun violence happen?</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#effects-of-gun-possesion"><i class="fa fa-check"></i><b>5.2</b> Effects of Gun Possesion</a><ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#how-does-the-gun-change-rate-influence-the-gun-violence-status"><i class="fa fa-check"></i><b>5.2.1</b> How does the gun change rate influence the gun violence status?</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#effects-of-gdp-data"><i class="fa fa-check"></i><b>5.3</b> Effects of GDP data</a></li>
<li class="chapter" data-level="5.4" data-path="results.html"><a href="results.html#combining-these-variables"><i class="fa fa-check"></i><b>5.4</b> Combining these variables</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Where is the most</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="missing-values" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Missing values</h1>
<div id="missing-value-of-gun-violence-data" class="section level2">
<h2><span class="header-section-number">3.1</span> Missing Value of Gun Violence Data</h2>
<p>As what we need of gun violence is date, state, killed number, injured number, longitude and latitude, and some character attributes. Therefore, the missing pattern are based on these volumns. As shown in the graph, more than 90% value are not missing, and only small number of gun violence records miss some lattitude and longitude. Because this dataframe is larger than 230,000 records, therefore, only missing about 8000 records is acceptable.</p>
</div>
<div id="missing-value-of-gun-background-check-data" class="section level2">
<h2><span class="header-section-number">3.2</span> Missing Value of Gun background check Data</h2>
<pre><code>## Warning in melt(as.data.frame(xs), ncol(xs)): The melt generic in
## data.table has been passed a data.frame and will attempt to redirect to the
## relevant reshape2 method; please note that reshape2 is deprecated, and this
## redirection is now deprecated as well. To continue using melt methods from
## reshape2 while both libraries are attached, e.g. melt.list, you can prepend
## the namespace like reshape2::melt(as.data.frame(xs)). In the next version,
## this warning will become an error.</code></pre>
<p><img src="finalproj_files/figure-html/unnamed-chunk-209-1.png" width="672" /></p>
<pre><code>##                     month                     state 
##                         0                         0 
##                    permit            permit_recheck 
##                        24                     11385 
##                   handgun                  long_gun 
##                        20                        19 
##                     other                  multiple 
##                      6985                         0 
##                     admin           prepawn_handgun 
##                        23                      1943 
##          prepawn_long_gun             prepawn_other 
##                      1945                      7370 
##        redemption_handgun       redemption_long_gun 
##                      1940                      1941 
##          redemption_other          returned_handgun 
##                      7370                     10285 
##         returned_long_gun            returned_other 
##                     10340                     10670 
##           rentals_handgun          rentals_long_gun 
##                     11495                     11660 
##      private_sale_handgun     private_sale_long_gun 
##                      9735                      9735 
##        private_sale_other  return_to_seller_handgun 
##                      9735                     10010 
## return_to_seller_long_gun    return_to_seller_other 
##                      9735                     10230 
##                    totals                         X 
##                         0                         0 
##                      year 
##                         0</code></pre>
<p>A lot of firearm background checking data are missing, this is out of two reason:<br />
<strong>Difference of state laws</strong>: For example, there is a large number of missing values in ’returned_*’ (‘returned_handgun’, ‘returned_long_gun’, ‘returned_other’, ‘rentals_handgun’, ‘rentals_long_gun’). According to FBI-NICS website, “As of January 20, 2015, Title 28, Code of Federal Regulations, Part 25, allows local, state, tribal, and federal law enforcement agencies to access the NICS to conduct background checks for the purpose of returning firearms in their possession to an individual (e.g., at the conclusion of a case).”, therefore, some states don’t have returned long guns or short guns data.<br />
<strong>The missing details of purchasing</strong>: For example, there are some missing values in ‘private_sale’ (‘private_sale_handgun’, ‘private_sale_long_gun’, ‘private_sale_other’), as private sellers represent unlicensed sellers, and only 24/50 states has gun laws about back ground checking When Seller Is Not a Licensed Dealer (<a href="https://consumer.findlaw.com/consumer-transactions/private-gun-sale-laws-by-state.html" class="uri">https://consumer.findlaw.com/consumer-transactions/private-gun-sale-laws-by-state.html</a>), therefore, some details of private sales are missing.<br />
According to the summary of missing values, the most common mode of missing value is missing returned firearms, private sales and permit recheck data. As the what we used of this dataframe is totals, and this column has no missing values, therefore, it can be used.</p>
</div>
<div id="missing-value-of-gdp-and-population-data" class="section level2">
<h2><span class="header-section-number">3.3</span> Missing Value of GDP and Population data</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">colSums</span>(<span class="kw">is.na</span>(GDP))</a></code></pre></div>
<pre><code>##                      X                GeoFIPS                GeoName 
##                      0                      0                      0 
##                 Region              TableName          ComponentName 
##                      1                      0                      0 
##                   Unit             IndustryId IndustryClassification 
##                      0                      0                      0 
##            Description                  X1997                  X1998 
##                      0                      0                      0 
##                  X1999                  X2000                  X2001 
##                      0                      0                      0 
##                  X2002                  X2003                  X2004 
##                      0                      0                      0 
##                  X2005                  X2006                  X2007 
##                      0                      0                      0 
##                  X2008                  X2009                  X2010 
##                      0                      0                      0 
##                  X2011                  X2012                  X2013 
##                      0                      0                      0 
##                  X2014                  X2015                  X2016 
##                      0                      0                      0 
##                  X2017                  X2018 
##                      0                      0</code></pre>
<p>As each ’X20**’ represents the GDP of each year and “GeoName” represents the states. And the region is just number of different regions, therefore, the only one row missing data don’t effect our analysis.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">colSums</span>(<span class="kw">is.na</span>(population))</a></code></pre></div>
<pre><code>##      state       year population 
##          0          0          0</code></pre>
<p>There is no missing values in population data.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-cleaning.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ZiningFan00/GunViolenceReport/edit/master/03-missing.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ZiningFan00/GunViolenceReport/blob/master/03-missing.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
